# Указываем бэкенд, который будет использоваться для обработки модели.
# В данном случае это Python backend, который поддерживает выполнение
# моделей на Python, включая Hugging Face модели.
backend: "python"

# Параметры модели Hugging Face. Задаем путь к модели, которая будет загружена.
# Ключ 'huggingface_model' содержит строковое значение, указывающее на модель Falcon 7B.
# Можно поменять модель на другую из библиотеки Hugging Face, если необходимо.
parameters: {
  key: "huggingface_model",
  value: {string_value: "tiiuae/falcon-7b"}  # модель Falcon 7B из Hugging Face
}

# Максимальное количество токенов для генерации в ответ на входной текст.
# Параметр 'max_output_length' определяет длину сгенерированного текста.
# Увеличьте это значение, если хотите генерировать более длинные ответы.
parameters: {
  key: "max_output_length",
  value: {string_value: "50"}  # увеличено до 200 токенов для более длинного текста
}

# Конфигурация входных данных модели. Triton ожидает, что входные данные будут
# представлены в виде строки. Тип данных - 'TYPE_STRING'.
# Входной размер (dims) указывает на количество ожидаемых входных строк.
# В данном случае размер [1] означает, что на вход подается одна строка.
# Если нужно подавать батчи, этот размер может быть увеличен.
input [
  {
    name: "text_input"  # название входного тензора, которое будет использоваться в коде модели
    data_type: TYPE_STRING  # тип данных - строка
    dims: [ 1 ]  # одна строка на вход (размерность 1)
    # Dims могут быть изменены для батчей, например [N], где N - размер батча.
  }
]

# Конфигурация выходных данных модели. Triton ожидает, что выходные данные
# будут представлены в виде строки переменной длины.
# Тип данных - 'TYPE_STRING'. Размерность [-1] указывает на то, что длина выходных
# данных может быть переменной (например, текст разной длины в зависимости от ответа модели).
output [
  {
    name: "text_output"  # название выходного тензора, которое будет использоваться в коде модели
    data_type: TYPE_STRING  # тип данных - строка
    dims: [ -1 ]  # переменная длина выходных данных (размерность не фиксирована)
  }
]
